{"ast":null,"code":"var _jsxFileName = \"/home/utu/Desktop/WebMobi/WebMobi2020/Part3/phonebook/src/App.js\";\nimport React from 'react';\nimport axios from 'axios'; // The base url for the API\n\nconst baseUrl = 'http://localhost:3001/persons';\n\nconst Persons = ({\n  persons,\n  onRemovePerson\n}) => {\n  return /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 7\n    }\n  }, persons.map(person => /*#__PURE__*/React.createElement(Person, {\n    key: person.name,\n    person: person,\n    onRemovePerson: onRemovePerson,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 32\n    }\n  }))));\n};\n\nconst Person = ({\n  person,\n  onRemovePerson\n}) => {\n  return /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }\n  }, person.name), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 29\n    }\n  }, person.number), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: event => onRemovePerson(person.id, event),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 57\n    }\n  }, \"remove\")));\n}; // The amount of props can be decreased. Following the instructions this is the result.\n\n\nconst NewPersonForm = ({\n  onAddPerson,\n  onNameChange,\n  onNumberChange,\n  newName,\n  newNumber\n}) => {\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onAddPerson,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }\n  }, \"name: \", /*#__PURE__*/React.createElement(\"input\", {\n    value: newName,\n    onChange: onNameChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }\n  }, \"number: \", /*#__PURE__*/React.createElement(\"input\", {\n    value: newNumber,\n    onChange: onNumberChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, \"add\")));\n};\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.addPerson = event => {\n      event.preventDefault();\n      const person = {\n        name: this.state.newName,\n        number: this.state.newNumber\n      };\n\n      if (this.state.persons.map(person => person.name.toUpperCase()).includes(person.name.toUpperCase())) {\n        alert(\"\".concat(person.name, \" already exists! Please choose a different name.\"));\n        return;\n      }\n\n      axios.post(baseUrl, person).then(response => {\n        this.setState({\n          persons: this.state.persons.concat(response.data),\n          newName: '',\n          newNumber: ''\n        });\n      });\n    };\n\n    this.removePerson = (id, event) => {\n      const url = \"\".concat(baseUrl, \"/\").concat(id);\n      const person = this.state.persons.find(n => n.id === id);\n\n      if (!window.confirm(\"Are you sure you want to delete \".concat(person.name, \" from your phonebook?\"))) {\n        return;\n      }\n\n      axios.delete(url, person).then(response => {\n        this.setState({\n          persons: this.state.persons.filter(person => person.id !== id)\n        });\n      });\n    };\n\n    this.handleNameChange = event => {\n      this.setState({\n        newName: event.target.value\n      });\n    };\n\n    this.handleNumberChange = event => {\n      this.setState({\n        newNumber: event.target.value\n      });\n    };\n\n    this.state = {\n      persons: [],\n      newName: '',\n      newNumber: ''\n    };\n  }\n\n  componentDidMount() {\n    axios.get(baseUrl).then(response => {\n      this.setState({\n        persons: response.data\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }\n    }, \"Phonebook\"), /*#__PURE__*/React.createElement(NewPersonForm, {\n      onAddPerson: this.addPerson,\n      onNameChange: this.handleNameChange,\n      onNumberChange: this.handleNumberChange,\n      newName: this.state.newName,\n      newNumber: this.state.newNumber,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }\n    }, \"Numbers\"), /*#__PURE__*/React.createElement(Persons, {\n      persons: this.state.persons,\n      onRemovePerson: this.removePerson,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/utu/Desktop/WebMobi/WebMobi2020/Part3/phonebook/src/App.js"],"names":["React","axios","baseUrl","Persons","persons","onRemovePerson","map","person","name","Person","number","event","id","NewPersonForm","onAddPerson","onNameChange","onNumberChange","newName","newNumber","App","Component","constructor","props","addPerson","preventDefault","state","toUpperCase","includes","alert","post","then","response","setState","concat","data","removePerson","url","find","n","window","confirm","delete","filter","handleNameChange","target","value","handleNumberChange","componentDidMount","get","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAGA;;AACA,MAAMC,OAAO,GAAG,+BAAhB;;AAEA,MAAMC,OAAO,GAAG,CAAC;AAAEC,EAAAA,OAAF;AAAWC,EAAAA;AAAX,CAAD,KAAiC;AAC/C,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGD,OAAO,CAACE,GAAR,CAAYC,MAAM,iBAAI,oBAAC,MAAD;AAAQ,IAAA,GAAG,EAAEA,MAAM,CAACC,IAApB;AAA0B,IAAA,MAAM,EAAED,MAAlC;AAA0C,IAAA,cAAc,EAAEF,cAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAtB,CADH,CADF,CADF;AAOD,CARD;;AAUA,MAAMI,MAAM,GAAG,CAAC;AAAEF,EAAAA,MAAF;AAAUF,EAAAA;AAAV,CAAD,KAAgC;AAC7C,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKE,MAAM,CAACC,IAAZ,CADF,eACwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKD,MAAM,CAACG,MAAZ,CADxB,eACgD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAI;AAAQ,IAAA,OAAO,EAAGC,KAAD,IAAWN,cAAc,CAACE,MAAM,CAACK,EAAR,EAAYD,KAAZ,CAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAJ,CADhD,CADF;AAKD,CAND,C,CAQA;;;AACA,MAAME,aAAa,GAAG,CAAC;AAAEC,EAAAA,WAAF;AAAeC,EAAAA,YAAf;AAA6BC,EAAAA,cAA7B;AAA6CC,EAAAA,OAA7C;AAAsDC,EAAAA;AAAtD,CAAD,KAAuE;AAC3F,sBACE;AAAM,IAAA,QAAQ,EAAEJ,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BACQ;AAAO,IAAA,KAAK,EAAEG,OAAd;AAAuB,IAAA,QAAQ,EAAEF,YAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADR,CADF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BACU;AAAO,IAAA,KAAK,EAAEG,SAAd;AAAyB,IAAA,QAAQ,EAAEF,cAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADV,CAJF,eAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADF,CAPF,CADF;AAcD,CAfD;;AAiBA,MAAMG,GAAN,SAAkBnB,KAAK,CAACoB,SAAxB,CAAkC;AAChCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SASnBC,SATmB,GASNZ,KAAD,IAAW;AACrBA,MAAAA,KAAK,CAACa,cAAN;AACA,YAAMjB,MAAM,GAAG;AACbC,QAAAA,IAAI,EAAE,KAAKiB,KAAL,CAAWR,OADJ;AAEbP,QAAAA,MAAM,EAAE,KAAKe,KAAL,CAAWP;AAFN,OAAf;;AAIA,UAAI,KAAKO,KAAL,CAAWrB,OAAX,CAAmBE,GAAnB,CAAuBC,MAAM,IAAIA,MAAM,CAACC,IAAP,CAAYkB,WAAZ,EAAjC,EAA4DC,QAA5D,CAAqEpB,MAAM,CAACC,IAAP,CAAYkB,WAAZ,EAArE,CAAJ,EAAqG;AACnGE,QAAAA,KAAK,WAAIrB,MAAM,CAACC,IAAX,sDAAL;AACA;AACD;;AACDP,MAAAA,KAAK,CAAC4B,IAAN,CAAW3B,OAAX,EAAoBK,MAApB,EACGuB,IADH,CACQC,QAAQ,IAAI;AAChB,aAAKC,QAAL,CAAc;AACZ5B,UAAAA,OAAO,EAAE,KAAKqB,KAAL,CAAWrB,OAAX,CAAmB6B,MAAnB,CAA0BF,QAAQ,CAACG,IAAnC,CADG;AAEZjB,UAAAA,OAAO,EAAE,EAFG;AAGZC,UAAAA,SAAS,EAAE;AAHC,SAAd;AAKD,OAPH;AAQD,KA3BkB;;AAAA,SA6BnBiB,YA7BmB,GA6BJ,CAACvB,EAAD,EAAKD,KAAL,KAAe;AAC5B,YAAMyB,GAAG,aAAMlC,OAAN,cAAiBU,EAAjB,CAAT;AACA,YAAML,MAAM,GAAG,KAAKkB,KAAL,CAAWrB,OAAX,CAAmBiC,IAAnB,CAAwBC,CAAC,IAAIA,CAAC,CAAC1B,EAAF,KAASA,EAAtC,CAAf;;AACA,UAAI,CAAC2B,MAAM,CAACC,OAAP,2CAAkDjC,MAAM,CAACC,IAAzD,2BAAL,EAA4F;AAC1F;AACD;;AACDP,MAAAA,KAAK,CACFwC,MADH,CACUL,GADV,EACe7B,MADf,EAEGuB,IAFH,CAEQC,QAAQ,IAAI;AAChB,aAAKC,QAAL,CAAc;AACZ5B,UAAAA,OAAO,EAAE,KAAKqB,KAAL,CAAWrB,OAAX,CAAmBsC,MAAnB,CAA0BnC,MAAM,IAAIA,MAAM,CAACK,EAAP,KAAcA,EAAlD;AADG,SAAd;AAGD,OANH;AAOD,KA1CkB;;AAAA,SA4CnB+B,gBA5CmB,GA4CChC,KAAD,IAAW;AAC5B,WAAKqB,QAAL,CAAc;AAAEf,QAAAA,OAAO,EAAEN,KAAK,CAACiC,MAAN,CAAaC;AAAxB,OAAd;AACD,KA9CkB;;AAAA,SAgDnBC,kBAhDmB,GAgDGnC,KAAD,IAAW;AAC9B,WAAKqB,QAAL,CAAc;AAAEd,QAAAA,SAAS,EAAEP,KAAK,CAACiC,MAAN,CAAaC;AAA1B,OAAd;AACD,KAlDkB;;AAEjB,SAAKpB,KAAL,GAAa;AACXrB,MAAAA,OAAO,EAAE,EADE;AAEXa,MAAAA,OAAO,EAAE,EAFE;AAGXC,MAAAA,SAAS,EAAE;AAHA,KAAb;AAKD;;AA6CD6B,EAAAA,iBAAiB,GAAG;AAClB9C,IAAAA,KAAK,CACF+C,GADH,CACO9C,OADP,EAEG4B,IAFH,CAEQC,QAAQ,IAAI;AAChB,WAAKC,QAAL,CAAc;AAAE5B,QAAAA,OAAO,EAAE2B,QAAQ,CAACG;AAApB,OAAd;AACD,KAJH;AAKD;;AAEDe,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,eAEE,oBAAC,aAAD;AAAe,MAAA,WAAW,EAAE,KAAK1B,SAAjC;AAA4C,MAAA,YAAY,EAAE,KAAKoB,gBAA/D;AAAiF,MAAA,cAAc,EAAE,KAAKG,kBAAtG;AAA0H,MAAA,OAAO,EAAE,KAAKrB,KAAL,CAAWR,OAA9I;AAAuJ,MAAA,SAAS,EAAE,KAAKQ,KAAL,CAAWP,SAA7K;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAHF,eAIE,oBAAC,OAAD;AAAS,MAAA,OAAO,EAAE,KAAKO,KAAL,CAAWrB,OAA7B;AAAsC,MAAA,cAAc,EAAE,KAAK+B,YAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,CADF;AASD;;AAvE+B;;AA0ElC,eAAehB,GAAf","sourcesContent":["import React from 'react'\nimport axios from 'axios'\n\n\n// The base url for the API\nconst baseUrl = 'http://localhost:3001/persons'\n\nconst Persons = ({ persons, onRemovePerson }) => {\n  return (\n    <table>\n      <tbody>\n        {persons.map(person => <Person key={person.name} person={person} onRemovePerson={onRemovePerson} />)}\n      </tbody>\n    </table>\n  )\n}\n\nconst Person = ({ person, onRemovePerson }) => {\n  return (\n    <tr>\n      <td>{person.name}</td><td>{person.number}</td><td><button onClick={(event) => onRemovePerson(person.id, event)}>remove</button></td>\n    </tr>\n  )\n}\n\n// The amount of props can be decreased. Following the instructions this is the result.\nconst NewPersonForm = ({ onAddPerson, onNameChange, onNumberChange, newName, newNumber }) => {\n  return (\n    <form onSubmit={onAddPerson}>\n      <div>\n        name: <input value={newName} onChange={onNameChange} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={onNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      persons: [],\n      newName: '',\n      newNumber: ''\n    }\n  }\n\n  addPerson = (event) => {\n    event.preventDefault()\n    const person = {\n      name: this.state.newName,\n      number: this.state.newNumber\n    }\n    if (this.state.persons.map(person => person.name.toUpperCase()).includes(person.name.toUpperCase())) {\n      alert(`${person.name} already exists! Please choose a different name.`)\n      return\n    }\n    axios.post(baseUrl, person)\n      .then(response => {\n        this.setState({\n          persons: this.state.persons.concat(response.data),\n          newName: '',\n          newNumber: ''\n        })\n      })\n  }\n\n  removePerson = (id, event) => {\n    const url = `${baseUrl}/${id}`\n    const person = this.state.persons.find(n => n.id === id)\n    if (!window.confirm(`Are you sure you want to delete ${person.name} from your phonebook?`)) {\n      return\n    }\n    axios\n      .delete(url, person)\n      .then(response => {\n        this.setState({\n          persons: this.state.persons.filter(person => person.id !== id)\n        })\n      })\n  }\n\n  handleNameChange = (event) => {\n    this.setState({ newName: event.target.value })\n  }\n\n  handleNumberChange = (event) => {\n    this.setState({ newNumber: event.target.value })\n  }\n\n  componentDidMount() {\n    axios\n      .get(baseUrl)\n      .then(response => {\n        this.setState({ persons: response.data })\n      })\n  }\n\n  render() {\n    return (\n      <div>\n        <h2>Phonebook</h2>\n        <NewPersonForm onAddPerson={this.addPerson} onNameChange={this.handleNameChange} onNumberChange={this.handleNumberChange} newName={this.state.newName} newNumber={this.state.newNumber} />\n        <h2>Numbers</h2>\n        <Persons persons={this.state.persons} onRemovePerson={this.removePerson} />\n      </div>\n\n    )\n  }\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}