{"version":3,"sources":["services/phonebook.js","App.js","index.js"],"names":["baseUrl","phonebook","getAll","axios","get","then","response","data","create","newObject","post","update","id","put","concat","remove","chosenObject","delete","Persons","_ref","persons","onRemovePerson","react_default","a","createElement","map","person","App_Person","key","name","Person","_ref2","number","onClick","event","NewPersonForm","_ref3","onAddPerson","onNameChange","onNumberChange","newName","newNumber","onSubmit","value","onChange","type","App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","addPerson","preventDefault","state","toUpperCase","includes","alert","Service","setState","removePerson","find","n","window","confirm","filter","catch","error","handleNameChange","target","handleNumberChange","_this2","App_NewPersonForm","App_Persons","React","Component","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.ff8a32ff.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = 'api/persons'\r\n\r\nconst getAll = () => {\r\n     const req = axios.get(baseUrl)\r\n     return req.then(response => response.data)\r\n}\r\n\r\nconst create = (newObject) =>{\r\n    return axios.post(baseUrl, newObject)\r\n}\r\nconst update = (id, newObject) =>{\r\n    return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\nconst remove = (chosenObject) =>{\r\n    return axios.delete(baseUrl, chosenObject)\r\n}\r\n/*\r\nconst errorhandling = () => {\r\n    return axios.get(baseUrl)\r\n    .then(response =>{\r\n        console.log('success')\r\n    })\r\n    .catch(error =>{\r\n        console.log('fail')\r\n    })\r\n}\r\n*/\r\nexport default { getAll, create, update, remove }","import React from 'react'\r\nimport Service from './services/phonebook'\r\n//import axios from 'axios'\r\n\r\n\r\n// The base url for the API\r\n//const baseUrl = 'http://localhost:3001/persons'\r\n\r\nconst Persons = ({ persons, onRemovePerson }) => {\r\n  return (\r\n    <table>\r\n      <tbody>\r\n        {persons.map(person => <Person key={person.name} person={person} onRemovePerson={onRemovePerson} />)}\r\n      </tbody>\r\n    </table>\r\n  )\r\n}\r\n\r\nconst Person = ({ person, onRemovePerson }) => {\r\n  return (\r\n    <tr>\r\n      <td>{person.name}</td><td>{person.number}</td><td><button onClick={(event) => onRemovePerson(person.id, event)}>remove</button></td>\r\n    </tr>\r\n  )\r\n}\r\n\r\n// The amount of props can be decreased. Following the instructions this is the result.\r\nconst NewPersonForm = ({ onAddPerson, onNameChange, onNumberChange, newName, newNumber }) => {\r\n  return (\r\n    <form onSubmit={onAddPerson}>\r\n      <div>\r\n        name: <input value={newName} onChange={onNameChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={onNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n\r\n}\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      persons: [],\r\n      newName: '',\r\n      newNumber: ''\r\n    }\r\n  }\r\n\r\n  addPerson = (event) => {\r\n    event.preventDefault()\r\n    const person = {\r\n      name: this.state.newName,\r\n      number: this.state.newNumber\r\n    }\r\n    if (this.state.persons.map(person => person.name.toUpperCase()).includes(person.name.toUpperCase())) {\r\n      alert(`${person.name} already exists! Please choose a different name.`)\r\n      return\r\n    }\r\n    Service\r\n      .create(person)\r\n      .then(response => {\r\n        this.setState({\r\n          persons: this.state.persons.concat(response.data),\r\n          newName: '',\r\n          newNumber: ''\r\n        })\r\n      })\r\n  }\r\n\r\n  removePerson = (id, event) => {\r\n    //const url = `${baseUrl}/${id}`\r\n    const person = this.state.persons.find(n => n.id === id)\r\n    if (!window.confirm(`Are you sure you want to delete ${person.name} from your phonebook?`)) {\r\n      return\r\n    }\r\n    Service\r\n      .remove(person)\r\n      .then(response => {\r\n        this.setState({\r\n          persons: this.state.persons.filter(person => person.id !== id)\r\n        })\r\n      })\r\n      .catch(error =>{\r\n        alert(`This person ${person} is not found`)\r\n        this.setState({persons: this.state.persons.filter(n=> n.id !== id)})\r\n      })\r\n  }\r\n  \r\n  handleNameChange = (event) => {\r\n    this.setState({ newName: event.target.value })\r\n  }\r\n\r\n  handleNumberChange = (event) => {\r\n    this.setState({ newNumber: event.target.value })\r\n  }\r\n\r\n  componentDidMount() {\r\n    Service\r\n      .getAll()\r\n      .then(response => {\r\n        this.setState({ persons: response.data })\r\n      })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h2>Phonebook</h2>\r\n        <NewPersonForm onAddPerson={this.addPerson} onNameChange={this.handleNameChange} onNumberChange={this.handleNumberChange} newName={this.state.newName} newNumber={this.state.newNumber} />\r\n        <h2>Numbers</h2>\r\n        <Persons persons={this.state.persons} onRemovePerson={this.removePerson} />\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}