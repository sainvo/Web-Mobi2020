{"version":3,"sources":["commands/publish.ts"],"names":["action","projectDir","options","channelRe","RegExp","releaseChannel","test","log","error","process","exit","exp","pkg","skipSDKVersionRequirement","dependencies","warn","chalk","bold","hasOptimized","fs","existsSync","path","join","nonInteractive","parent","target","status","Project","currentStatus","shouldStartOurOwn","packagerInfo","ProjectSettings","readPackagerInfoAsync","runningPackagerTarget","stopAsync","startedOurOwn","startOpts","reset","clear","nonPersistent","maxWorkers","startAsync","quiet","recipient","sendTo","getRecipient","args","sdkVersion","Exp","getPublishInfoAsync","buildStatus","env","EXPO_LEGACY_API","buildAsync","mode","platform","current","getBuildStatusAsync","userHasBuiltExperienceBefore","userHasBuiltAppBefore","duringBuild","isDetached","simpleSpinner","start","result","publishAsync","url","stop","newLine","exampleManifestUrl","getExampleManifestUrl","websiteUrl","replace","sendUrlAsync","includes","program","command","alias","description","option","asyncActionProjectDir"],"mappings":"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","file":"../../commands/publish.js","sourceRoot":"/expo-cli@3.18.5/src"}